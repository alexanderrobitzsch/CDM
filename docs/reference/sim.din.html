<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Data Simulation Tool for DINA, DINO and mixed DINA and DINO Data — sim.din • CDM</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Data Simulation Tool for DINA, DINO and mixed DINA and DINO Data — sim.din"><meta property="og:description" content="sim.din can be used to simulate dichotomous response data according to a CDM
  model.  The model type DINA or DINO can be specified item wise.  The number of items,
  the sample size, and two parameters for each item,
  the slipping and guessing parameters, can be set explicitly."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CDM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">8.3</span
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/alexanderrobitzsch/CDM/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Data Simulation Tool for DINA, DINO and mixed DINA and DINO Data</h1>
    
    <div class="hidden name"><code>sim.din.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>sim.din</code> can be used to simulate dichotomous response data according to a CDM
  model.  The model type DINA or DINO can be specified item wise.  The number of items,
  the sample size, and two parameters for each item,
  the slipping and guessing parameters, can be set explicitly.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sim.din</span><span class="op">(</span>N<span class="op">=</span><span class="fl">0</span>, <span class="va">q.matrix</span>, guess<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">q.matrix</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    slip<span class="op">=</span><span class="va">guess</span>, mean<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">q.matrix</span><span class="op">)</span><span class="op">)</span>, Sigma<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">q.matrix</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    rule<span class="op">=</span><span class="st">"DINA"</span>, alpha<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>N</dt>
<dd><p>A numeric value specifying the number \(N\) of requested
    response patterns. If <code>alpha</code> is specified, then <code>N</code> is set
    by default to 0.</p></dd>


  <dt>q.matrix</dt>
<dd><p>A required binary \(J \times K\) matrix describing which
    of the \(K\) attributes are required, coded by 1, and which attributes
    are not required, coded by 0, to master the items.</p></dd>


  <dt>guess</dt>
<dd><p>An optional vector of guessing parameters.  Default is
    0.2 for each item.</p></dd>


  <dt>slip</dt>
<dd><p>An optional vector of slipping parameters.  Default is
    0.2 for each item.</p></dd>


  <dt>mean</dt>
<dd><p>A numeric vector of length <code>ncol(q.matrix)</code> indicating
    the mean vector of the continuous version of the dichotomous skill vector.
    Default is <code>rep(0, length=ncol(q.matrix))</code>.
    That is, having a probability of <code>0.5</code> for possessing each of the
    attributes.</p></dd>


  <dt>Sigma</dt>
<dd><p>A matrix of dimension <code>ncol(q.matrix)</code> times <code>ncol(q.matrix)</code>
     specifying the covariance matrix of the continuous version of the dichotomous skill
     vector (i.e., the tetrachoric correlation of the dichotomous skill vector).
     Default is <code>diag( 1, ncol(q.matrix))</code>.  That is, by default the possession of
     the attributes is assumed to be uncorrelated.</p></dd>


  <dt>rule</dt>
<dd><p>An optional character string or vector of character strings
      specifying the model rule that is used.  The character strings must be
      of <code>"DINA"</code> or <code>"DINO"</code>.  If a vector of character strings is
      specified, implying an itemwise condensation rule, the vector must
      be of length \(J\), which is the number of used items.  The default is
    the condensation rule <code>"DINA"</code> for all items.</p></dd>

  <dt>alpha</dt>
<dd><p>A matrix of attribute patterns which can be given as an input
    instead of underlying latent variables. If <code>alpha</code> is not <code>NULL</code>,
    then <code>mean</code> and <code>Sigma</code> are ignored.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list with following entries</p>
<dl><dt>dat</dt>
<dd><p>A matrix of simulated dichotomous response data
            according to the specified CDM model.</p></dd>

    <dt>alpha</dt>
<dd><p>Simulated attributes</p></dd>

</dl></div>
    <div id="references">
    <h2>References</h2>
    <p>Rupp, A. A., Templin, J. L., &amp; Henson, R. A. (2010). <em>Diagnostic
  Measurement: Theory, Methods, and Applications</em>. New York: The Guilford
  Press.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="Data-sim.html">Data-sim</a></code> for artificial date set simulated with the help of this
  method; <code><a href="plot.din.html">plot.din</a></code>, the S3 method for plotting objects of
  the class <code>din</code>; <code><a href="summary.din.html">summary.din</a></code>, the S3
  method for summarizing objects of the class <code>din</code>, which
  creates objects of the class <code>summary.din</code>;
  <code><a href="print.summary.din.html">print.summary.din</a></code>, the S3 method for printing
  objects of the class <code>summary.din</code>; <code><a href="din.html">din</a></code>,
  the main function for DINA and DINO parameter estimation,
  which creates objects of the class <code>din</code>.  See also
  <code><a href="CDM-package.html">CDM-package</a></code> for general information about this package.</p>
<p>See <code><a href="sim_model.html">sim_model</a></code> for a general simulation function.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co">#############################################################################</span></span>
<span><span class="co">## EXAMPLE 1: simulate DINA/DINO data according to a tetrachoric correlation</span></span>
<span><span class="co">#############################################################################</span></span>
<span></span>
<span><span class="co"># define Q-matrix for 4 items and 2 attributes</span></span>
<span><span class="va">q.matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">2</span>, nrow<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Slipping parameters</span></span>
<span><span class="va">slip</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.3</span>,<span class="fl">0.4</span>,<span class="fl">0.3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Guessing parameters</span></span>
<span><span class="va">guess</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0.1</span>,<span class="fl">0.05</span>,<span class="fl">0.2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1567</span><span class="op">)</span> <span class="co"># fix random numbers</span></span>
<span><span class="va">dat1</span> <span class="op">&lt;-</span> <span class="fu">CDM</span><span class="fu">::</span><span class="fu">sim.din</span><span class="op">(</span>N<span class="op">=</span><span class="fl">200</span>, <span class="va">q.matrix</span>, slip<span class="op">=</span><span class="va">slip</span>, guess<span class="op">=</span><span class="va">guess</span>,</span>
<span>  <span class="co"># Possession of the attributes with high probability</span></span>
<span>  mean<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>,<span class="fl">0.2</span><span class="op">)</span>,</span>
<span>  <span class="co"># Possession of the attributes is weakly correlated</span></span>
<span>  Sigma<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0.2</span>,<span class="fl">0.2</span>,<span class="fl">1</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span>, rule<span class="op">=</span><span class="st">"DINA"</span><span class="op">)</span><span class="op">$</span><span class="va">dat</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">15367</span><span class="op">)</span> <span class="co"># fix random numbers</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">CDM</span><span class="fu">::</span><span class="fu">sim.din</span><span class="op">(</span>N<span class="op">=</span><span class="fl">200</span>, <span class="va">q.matrix</span>, slip<span class="op">=</span><span class="va">slip</span>, guess<span class="op">=</span><span class="va">guess</span>, mean<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>,<span class="fl">0.2</span><span class="op">)</span>,</span>
<span>         Sigma<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0.2</span>,<span class="fl">0.2</span>,<span class="fl">1</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span>, rule<span class="op">=</span><span class="st">"DINO"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># extract simulated data</span></span>
<span><span class="va">dat2</span> <span class="op">&lt;-</span> <span class="va">res</span><span class="op">$</span><span class="va">dat</span></span>
<span><span class="co"># extract attribute patterns</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span> <span class="va">res</span><span class="op">$</span><span class="va">alpha</span> <span class="op">)</span></span>
<span>  <span class="co">##        [,1] [,2]</span></span>
<span>  <span class="co">##   [1,]    1    1</span></span>
<span>  <span class="co">##   [2,]    1    1</span></span>
<span>  <span class="co">##   [3,]    1    1</span></span>
<span>  <span class="co">##   [4,]    1    1</span></span>
<span>  <span class="co">##   [5,]    1    1</span></span>
<span>  <span class="co">##   [6,]    1    0</span></span>
<span></span>
<span><span class="co">#  simulate data based on given attributes</span></span>
<span><span class="co">#          -&gt; 5 persons with 2 attributes -&gt; see the Q-matrix above</span></span>
<span><span class="va">alpha</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>    nrow<span class="op">=</span><span class="fl">5</span>,ncol<span class="op">=</span><span class="fl">2</span>, byrow<span class="op">=</span><span class="cn">TRUE</span> <span class="op">)</span></span>
<span><span class="fu">CDM</span><span class="fu">::</span><span class="fu">sim.din</span><span class="op">(</span>  q.matrix<span class="op">=</span><span class="va">q.matrix</span>, alpha<span class="op">=</span><span class="va">alpha</span> <span class="op">)</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="co">#############################################################################</span></span>
<span><span class="co"># EXAMPLE 2: Simulation based on attribute vectors</span></span>
<span><span class="co">#############################################################################</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">76</span><span class="op">)</span></span>
<span><span class="co"># define Q-matrix</span></span>
<span><span class="va">Qmatrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>, <span class="fl">8</span>, <span class="fl">2</span>, byrow<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">Qmatrix</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Attr1"</span>,<span class="st">"Attr2"</span><span class="op">)</span></span>
<span><span class="co"># define skill patterns</span></span>
<span><span class="va">alpha.patt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>, <span class="fl">4</span>,<span class="fl">2</span>,byrow<span class="op">=</span><span class="cn">TRUE</span> <span class="op">)</span></span>
<span><span class="va">AP</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">alpha.patt</span><span class="op">)</span></span>
<span><span class="co"># define pattern probabilities</span></span>
<span><span class="va">alpha.prob</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="fl">.20</span>, <span class="fl">.40</span>, <span class="fl">.10</span>, <span class="fl">.30</span> <span class="op">)</span></span>
<span><span class="co"># simulate alpha latent responses</span></span>
<span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">1000</span>     <span class="co"># number of persons</span></span>
<span><span class="va">ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span> x<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="va">AP</span>, size<span class="op">=</span><span class="va">N</span>, replace<span class="op">=</span><span class="cn">TRUE</span>, prob<span class="op">=</span><span class="va">alpha.prob</span><span class="op">)</span></span>
<span><span class="va">alpha</span> <span class="op">&lt;-</span> <span class="va">alpha.patt</span><span class="op">[</span> <span class="va">ind</span>, <span class="op">]</span>    <span class="co"># (true) latent responses</span></span>
<span><span class="co"># define guessing and slipping parameters</span></span>
<span><span class="va">guess</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.26</span>,<span class="fl">.3</span>,<span class="fl">.07</span>,<span class="fl">.23</span>,<span class="fl">.24</span>,<span class="fl">.34</span>,<span class="fl">.05</span>,<span class="fl">.1</span><span class="op">)</span></span>
<span><span class="va">slip</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.05</span>,<span class="fl">.16</span>,<span class="fl">.19</span>,<span class="fl">.03</span>,<span class="fl">.03</span>,<span class="fl">.19</span>,<span class="fl">.15</span>,<span class="fl">.05</span><span class="op">)</span></span>
<span><span class="co"># simulation of the DINA model</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">CDM</span><span class="fu">::</span><span class="fu">sim.din</span><span class="op">(</span>N<span class="op">=</span><span class="fl">0</span>, q.matrix<span class="op">=</span><span class="va">Qmatrix</span>, guess<span class="op">=</span><span class="va">guess</span>,</span>
<span>              slip<span class="op">=</span><span class="va">slip</span>, alpha<span class="op">=</span><span class="va">alpha</span><span class="op">)</span><span class="op">$</span><span class="va">dat</span></span>
<span><span class="co"># estimate model</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">CDM</span><span class="fu">::</span><span class="fu"><a href="din.html">din</a></span><span class="op">(</span> <span class="va">dat</span>, q.matrix<span class="op">=</span><span class="va">Qmatrix</span> <span class="op">)</span></span>
<span><span class="co"># extract maximum likelihood estimates for individual classifications</span></span>
<span><span class="va">est</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span> <span class="va">res</span><span class="op">$</span><span class="va">pattern</span><span class="op">$</span><span class="va">mle.est</span> <span class="op">)</span></span>
<span><span class="co"># calculate classification accuracy</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span> <span class="va">est</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span> <span class="va">alpha</span>, <span class="fl">1</span>, FUN<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">ll</span><span class="op">)</span><span class="op">{</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ll</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,<span class="va">ll</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">)</span> <span class="op">}</span> <span class="op">)</span> <span class="op">)</span></span>
<span>  <span class="co">##   [1] 0.935</span></span>
<span></span>
<span><span class="co">#############################################################################</span></span>
<span><span class="co"># EXAMPLE 3: Simulation based on already estimated DINA model for data.ecpe</span></span>
<span><span class="co">#############################################################################</span></span>
<span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">CDM</span><span class="fu">::</span><span class="va"><a href="data.ecpe.html">data.ecpe</a></span><span class="op">$</span><span class="va">data</span></span>
<span><span class="va">q.matrix</span> <span class="op">&lt;-</span> <span class="fu">CDM</span><span class="fu">::</span><span class="va"><a href="data.ecpe.html">data.ecpe</a></span><span class="op">$</span><span class="va">q.matrix</span></span>
<span></span>
<span><span class="co">#***</span></span>
<span><span class="co"># (1) estimate DINA model</span></span>
<span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">CDM</span><span class="fu">::</span><span class="fu"><a href="din.html">din</a></span><span class="op">(</span> data<span class="op">=</span><span class="va">dat</span><span class="op">[</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span>, q.matrix<span class="op">=</span><span class="va">q.matrix</span>, rule<span class="op">=</span><span class="st">"DINA"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#***</span></span>
<span><span class="co"># (2) simulate data according to DINA model</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">977</span><span class="op">)</span></span>
<span><span class="co"># number of subjects to be simulated</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">3000</span></span>
<span><span class="co"># simulate attribute patterns</span></span>
<span><span class="va">probs</span> <span class="op">&lt;-</span> <span class="va">mod</span><span class="op">$</span><span class="va">attribute.patt</span><span class="op">$</span><span class="va">class.prob</span>   <span class="co"># probabilities</span></span>
<span><span class="va">patt</span> <span class="op">&lt;-</span> <span class="va">mod</span><span class="op">$</span><span class="va">attribute.patt.splitted</span>      <span class="co"># response patterns</span></span>
<span><span class="va">alpha</span> <span class="op">&lt;-</span> <span class="va">patt</span><span class="op">[</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span> <span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">probs</span><span class="op">)</span> <span class="op">)</span>, <span class="va">n</span>, prob<span class="op">=</span><span class="va">probs</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="co"># simulate data using estimated item parameters</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">CDM</span><span class="fu">::</span><span class="fu">sim.din</span><span class="op">(</span>N<span class="op">=</span><span class="va">n</span>, q.matrix<span class="op">=</span><span class="va">q.matrix</span>, guess<span class="op">=</span><span class="va">mod</span><span class="op">$</span><span class="va">guess</span><span class="op">$</span><span class="va">est</span>, slip<span class="op">=</span><span class="va">mod</span><span class="op">$</span><span class="va">slip</span><span class="op">$</span><span class="va">est</span>,</span>
<span>              rule<span class="op">=</span><span class="st">"DINA"</span>, alpha<span class="op">=</span><span class="va">alpha</span><span class="op">)</span></span>
<span><span class="co"># extract data</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">res</span><span class="op">$</span><span class="va">dat</span></span>
<span><span class="op">}</span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Alexander Robitzsch.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

